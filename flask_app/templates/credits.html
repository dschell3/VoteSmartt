{% extends 'base.html' %}
{% block title %}Credits - VoteSmartt{% endblock %}

{% block extra_css %}
.credits-grid{display:grid;gap:1.75rem;}
@media (min-width:640px){.credits-grid{grid-template-columns:repeat(2,1fr);} }
@media (min-width:1024px){.credits-grid{grid-template-columns:repeat(3,1fr);} }
@media (min-width:1280px){.credits-grid{grid-template-columns:repeat(4,1fr);} }
.credit-card{background:linear-gradient(180deg,#0b3b7a,#155ac2);color:#fff;border-radius:14px;padding:18px 18px 20px;display:flex;flex-direction:column;gap:14px;box-shadow:0 10px 32px rgba(2,6,23,.12);} 
.credit-card .avatar{width:100%;aspect-ratio:4/3;background:#eef2f7;border:1px solid rgba(255,255,255,0.25);border-radius:10px;display:flex;align-items:center;justify-content:center;overflow:hidden;}
.credit-card .avatar img{width:100%;height:100%;object-fit:cover;}
.credit-name{font-weight:600;font-size:1rem;letter-spacing:.5px;}
.credit-role{font-size:.75rem;text-transform:uppercase;opacity:.85;letter-spacing:.8px;}
.credit-desc{font-size:.72rem;line-height:1.3;opacity:.92;}
.social a{display:inline-block;font-size:.7rem;background:rgba(255,255,255,.18);padding:4px 8px;border-radius:6px;transition:.2s;}
.social a:hover{background:rgba(255,255,255,.28);} 
/* task list inside credit cards */
.task-list{margin:0;padding:0;list-style:none;display:grid;gap:8px;margin-top:6px}
.task-item{display:flex;gap:10px;align-items:flex-start;color:rgba(255,255,255,0.95);}
.task-dot{width:8px;height:8px;background:rgba(255,255,255,0.9);border-radius:50%;margin-top:6px;flex:0 0 8px}
.task-text{font-size:.82rem;line-height:1.25;opacity:.95}
{% endblock %}

{% block content %}
<div class="max-w-7xl mx-auto px-6 py-12">
  <h1 class="text-3xl font-extrabold tracking-tight text-center">{{ data.title }}</h1>
  <div class="credits-grid mt-10">
    {% set people = data.credits or data.people or [] %}
    {% for p in people %}
    <div class="credit-card">
      <div class="avatar">
        {% set avatar = p.avatar_url if p.avatar_url is defined and p.avatar_url else (about_map[p.name] if about_map and p.name in about_map else None) %}
        <img src="{{ avatar or url_for('static', filename='media/default-avatar.svg') }}" alt="{{ p.name }} avatar" loading="lazy" />
      </div>
      <div>
        <div class="credit-name">{{ p.name }}</div>
        <div class="credit-role">{{ p.role }}</div>
      </div>
      {% if p.desc %}
        <div class="credit-desc">{{ p.desc }}</div>
      {% endif %}

      {% if p.tasks and p.tasks|length > 0 %}
        <ul class="task-list">
          {% for t in p.tasks %}
            <li class="task-item">
              <span class="task-dot" aria-hidden="true"></span>
              <span class="task-text">{{ t }}</span>
            </li>
          {% endfor %}
        </ul>
      {% endif %}
      <div class="social flex gap-2 flex-wrap">
        {% if p.github %}<a href="{{ p.github }}" target="_blank" rel="noopener" title="GitHub">GitHub</a>{% endif %}
      </div>
    </div>
    {% endfor %}
    {% if not people %}
      <div class="col-span-full text-slate-500 text-sm text-center">No credits yet. Edit static/data/credits.json.</div>
    {% endif %}
  </div>
</div>
{% endblock %}
